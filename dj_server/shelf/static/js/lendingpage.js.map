{"version":3,"sources":["lendingpage.jsx"],"names":[],"mappings":"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","file":"lendingpage.js","sourcesContent":["var SelectMixin = {\n  render: function () {\n    return (\n      <div className=\"select-list input-group\">\n        <div className=\"select-list-title\">{this.title}</div>\n        <select value={this.props.selected} onChange={this.props.onSelect}>\n          <option value={0}>--</option>\n          {this.getOptions()}\n        </select>\n      </div>\n    )\n  }\n};\n\nvar SelectAddBoxMixin = {\n  getInitialState: function() {\n    return {list: []};\n  },\n  componentDidMount: function() {\n    this.updateList();\n  },\n  getItemFromId: function(id) {\n    if (!id) return {id:0};\n    var results = this.state.list.filter(\n      function(item) {return item.id == id}\n    );\n    return results[0];\n  },\n  handleSelect: function(e) {\n    this.props.onSelect(this.getItemFromId(parseInt(e.target.value)));\n  },\n};\n\nvar BookSelect = React.createClass({\n  mixins: [SelectMixin],\n  title: 'Books',\n  getOptions: function () {\n    return this.props.list.map(\n      function (book) {\n        return (\n          <option key={book.id} value={book.id}>{book.title} - {book.author} - {book.status}</option>\n        )\n      }\n    );\n  },\n});\n\nvar AddBookForm = React.createClass({\n  getInitialState: function () {\n    return {title: '', author: ''};\n  },\n  handleTitleChange: function (e) {\n    this.setState({title: e.target.value})\n  },\n  handleAuthorChange: function (e) {\n    this.setState({author: e.target.value})\n  },\n  handleSubmit: function(e) {\n    e.preventDefault();\n    var title = this.state.title.trim();\n    var author = this.state.author.trim();\n    if (!title || !author) {\n      return;\n    }\n    this.props.onSubmit({title: title, author:author});\n    this.setState({title: '', author: ''});\n  },\n  render: function () {\n    return (\n      <form className=\"addForm\" onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          value={this.state.title}\n          onChange={this.handleTitleChange}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Author\"\n          value={this.state.author}\n          onChange={this.handleAuthorChange}\n        />\n        <input\n          type=\"submit\" value=\"Add\"\n        />\n      </form>\n    );\n  }\n});\n\nvar BookBox = React.createClass({\n  mixins: [SelectAddBoxMixin],\n  updateList: function() {\n    apiAllBooks(this,\n      function(data) {\n        this.setState({list: data})\n      },\n      function(xhr, status, err) {\n\n      }\n    );\n  },\n  handleAddSubmit: function(book) {\n    apiAddBook(this, book.title, book.author,\n      function(data) {\n        this.setState({\n          list: this.state.list.concat([data])\n        });\n        this.props.onSelect(data);\n      },\n      function(xhr, status, err) {\n\n      }\n    )\n  },\n  render: function () {\n    return (\n      <div className=\"bookBox\">\n        <BookSelect selected={this.props.selected} list={this.state.list} onSelect={this.handleSelect}/>\n        <AddBookForm onSubmit={this.handleAddSubmit}/>\n      </div>\n    );\n  }\n});\n\nvar BorrowerSelect = React.createClass({\n  mixins: [SelectMixin],\n  title: 'Borrowers',\n  getOptions: function () {\n    return this.props.list.map(\n      function (borrower) {\n        return (\n          <option key={borrower.id} value={borrower.id}>{borrower.name}</option>\n        )\n      }\n    );\n  }\n});\n\nvar AddBorrowerForm = React.createClass({\n  getInitialState: function () {\n    return {name: ''};\n  },\n  handleNameChange: function (e) {\n    this.setState({name: e.target.value})\n  },\n  handleSubmit: function(e) {\n    e.preventDefault();\n    var name = this.state.name.trim();\n    if (!name) {\n      return;\n    }\n    this.props.onSubmit({name: name});\n    this.setState({name: ''});\n  },\n  render: function () {\n    return (\n      <form className=\"addForm\" onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={this.state.name}\n          onChange={this.handleNameChange}\n        />\n        <input\n          type=\"submit\" value=\"Add\"\n        />\n      </form>\n    );\n  }\n});\n\nvar BorrowerBox = React.createClass({\n  mixins: [SelectAddBoxMixin],\n  updateList: function() {\n    apiAllBorrowers(this,\n      function(data) {\n        this.setState({list: data})\n      },\n      function(xhr, status, err) {\n\n      }\n    );\n  },\n  handleAddSubmit: function(borrower) {\n    apiAddBorrower(this, borrower.name,\n      function(data) {\n        this.setState({\n          list: this.state.list.concat([data])\n        });\n        this.props.onSelect(data);\n      },\n      function(xhr, status, err) {\n\n      }\n    )\n  },\n  render: function () {\n    return (\n      <div className=\"borrowerBox\">\n        <BorrowerSelect selected={this.props.selected} list={this.state.list} onSelect={this.handleSelect}/>\n        <AddBorrowerForm onSubmit={this.handleAddSubmit}/>\n      </div>\n    );\n  }\n});\n\nvar ActionBox = React.createClass({\n  render: function() {\n    var canLendBook =\n      this.props.book.id && this.props.borrower.id &&\n      this.props.book.status != \"lended\";\n    var canGetBookBack =\n      this.props.book && this.props.borrower &&\n      this.props.book.borrowerId == this.props.borrower.id;\n    var button;\n    if (canLendBook) {\n      button = <LendButton book={this.props.book} borrower={this.props.borrower} onLendBook={this.props.onLendBook}/>\n    }\n    else if (canGetBookBack) {\n      button = <GetBackButton book={this.props.book} onGetBookBack={this.props.onGetBookBack}/>\n    }\n    return (\n      <div className=\"actionBox\">\n        {button}\n      </div>\n    )\n  }\n});\n\nvar LendButton = React.createClass({\n  lendFunction: function() {\n    apiLendBook(this, this.props.book.id, this.props.borrower.id,\n      function() {\n        this.props.onLendBook();\n      },\n      function() {}\n    )\n  },\n  render: function() {\n    return (\n      <button className=\"lendButton actionButton\" onClick={this.lendFunction}>\n        {\"Lend it to\"}\n      </button>\n    );\n  }\n});\n\nvar GetBackButton = React.createClass({\n  getBackFunction: function() {\n    apiGetBack(this, this.props.book.id,\n      function() {\n        this.props.onGetBookBack();\n      },\n      function() {}\n    )\n  },\n  render: function() {\n    return (\n      <button className=\"lendButton actionButton\" onClick={this.getBackFunction}>\n        {\"Get it back\"}\n      </button>\n    );\n  }\n});\n\nvar LendingBox = React.createClass({\n  getInitialState: function() {\n    return {\n      book: {id: 0},\n      borrower: {id: 0}\n    };\n  },\n  updateSelectBook: function(book) {\n    if (book.status == \"lended\") {\n      apiGetCurrentBorrowerOfBook(this, book.id,\n        function(borrower) {\n          book.borrowerId = borrower.id;\n          this.setState({\n            borrower: borrower,\n            book: book\n          });\n        },\n        function() {}\n      );\n    }\n    else this.setState({book: book});\n  },\n  updateSelectBorrower: function(borr) {\n    this.setState({borrower: borr});\n  },\n  handleLendBook: function() {\n    var updatedBook = this.state.book;\n    updatedBook.status = \"lended\";\n    updatedBook.borrowerId = this.state.borrower.id;\n    this.setState({book: updatedBook});\n  },\n  handleGetBookBack: function() {\n    var updatedBook = this.state.book;\n    updatedBook.status = \"on_shelf\";\n    updatedBook.borrowerId = undefined;\n    this.setState({book: updatedBook});\n  },\n  render: function() {\n    return (\n      <div className=\"lendingBox\">\n          <BookBox selected={this.state.book.id} onSelect={this.updateSelectBook}/>\n          <BorrowerBox selected={this.state.borrower.id} onSelect={this.updateSelectBorrower}/>\n          <ActionBox book={this.state.book} borrower={this.state.borrower}\n                     onLendBook={this.handleLendBook}\n                     onGetBookBack={this.handleGetBookBack}\n          />\n      </div>\n    )\n  }\n});\n\nReactDOM.render(\n  <LendingBox/>,\n  document.getElementById('content')\n);\n"]}